
    <!DOCTYPE html>
    <html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Rapport d'analyse faciale - XDDL</title>
        <style>
            body {
                font-family: 'Segoe UI', Arial, sans-serif;
                margin: 0;
                padding: 0;
                background-color: #f5f5f5;
                color: #333;
            }
            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
            }
            .header {
                background: linear-gradient(135deg, #1e5799 0%, #2989d8 50%, #207cca 100%);
                color: white;
                padding: 20px;
                border-radius: 8px 8px 0 0;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            }
            .header-flex {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            .timestamp {
                font-size: 14px;
                opacity: 0.9;
            }
            .section {
                background-color: white;
                margin-top: 20px;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            }
            .summary-box {
                display: flex;
                justify-content: space-between;
                margin-bottom: 20px;
            }
            .summary-item {
                background-color: #f9f9f9;
                padding: 15px;
                border-radius: 8px;
                flex: 1;
                margin: 0 10px;
                text-align: center;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            .summary-item h3 {
                margin-top: 0;
                font-size: 16px;
                color: #666;
            }
            .summary-item p {
                font-size: 24px;
                font-weight: bold;
                margin: 10px 0;
            }
            .confidence {
                color: #FFA500;
                font-weight: bold;
            }
            .match {
                color: #228B22;
                font-weight: bold;
            }
            .no-match {
                color: #B22222;
                font-weight: bold;
            }
            table {
                width: 100%;
                border-collapse: collapse;
                margin: 20px 0;
            }
            th, td {
                border: 1px solid #ddd;
                padding: 12px;
                text-align: left;
            }
            th {
                background-color: #f2f2f2;
                position: sticky;
                top: 0;
            }
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            tr:hover {
                background-color: #f1f1f1;
            }
            .result-img {
                max-width: 100%;
                height: auto;
                margin-top: 10px;
                border-radius: 4px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .side-by-side {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-top: 20px;
            }
            .metrics-box {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                margin-top: 10px;
            }
            .metric {
                background-color: #f0f0f0;
                padding: 8px 12px;
                border-radius: 4px;
                font-size: 14px;
            }
            .footer {
                margin-top: 30px;
                text-align: center;
                font-size: 12px;
                color: #777;
            }
            .info-icon {
                color: #2989d8;
                cursor: help;
                position: relative;
            }
            .bar-container {
                width: 100%;
                background-color: #e0e0e0;
                border-radius: 4px;
                margin-top: 5px;
            }
            .bar {
                height: 10px;
                border-radius: 4px;
                background: linear-gradient(90deg, #1e5799 0%, #2989d8 100%);
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <div class="header-flex">
                    <h1>Rapport d'analyse faciale - XDDL</h1>
                    <div class="timestamp">
                        <div>Date: 27/04/2025</div>
                        <div>Heure: 05:31:33</div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Résumé de l'analyse</h2>
                <div class="summary-box">
                    <div class="summary-item">
                        <h3>Total des comparaisons</h3>
                        <p>4</p>
                    </div>
                    <div class="summary-item">
                        <h3>Correspondances trouvées</h3>
                        <p>1</p>
                    </div>
                    <div class="summary-item">
                        <h3>Niveau de confiance</h3>
                        <p class="confidence">Modérée</p>
                        <div class="bar-container">
                            <div class="bar" style="width: 44.45%;"></div>
                        </div>
                    </div>
                </div>
    
                <h3>Principale correspondance identifiée</h3>
                <p class="match">✓ L'image <strong>image1.JPG</strong> correspond à <strong>7fc05c8a15a6ca2f-580x0-1.webp</strong> avec une similarité de <strong>0.4445</strong></p>
            </div>
            
            <div class="section">
                <h2>Détails de la meilleure correspondance</h2>
                <div class="side-by-side">
                    <div>
                        <h3>Métriques de similarité</h3>
                        <div class="metrics-box">
                            <div class="metric">Score global: <strong>0.4445</strong></div>
                            <div class="metric">Corrélation: <strong>0.7702999711036682</strong></div>
                            <div class="metric">Similarité d'histogramme: <strong>0.2324</strong></div>
                            <div class="metric">SSIM: <strong>0.2222</strong></div>
                        </div>
                    </div>
                    <div>
                        <h3>Interprétation</h3>
                        <p>L'analyse indique une correspondance <span class="confidence">modérée</span> entre les images. La corrélation structurelle est particulièrement élevée.</p>
                    </div>
                </div>
                <h3>Comparaison visuelle</h3>
                <img class="result-img" src="comparaison_image1.JPG_7fc05c8a15a6ca2f-580x0-1.webp.png" alt="Meilleure correspondance">
            </div>
        
            <div class="section">
                <h2>Tableau des comparaisons</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Image suspecte</th>
                            <th>Image criminelle</th>
                            <th>Score global</th>
                            <th>Corrélation</th>
                            <th>Hist. Sim.</th>
                            <th>SSIM</th>
                            <th>Correspondance</th>
                        </tr>
                    </thead>
                    <tbody>
    
                    <tr>
                        <td>image1.JPG</td>
                        <td>7fc05c8a15a6ca2f-580x0-1.webp</td>
                        <td><strong>0.4445</strong></td>
                        <td>0.7702999711036682</td>
                        <td>0.2324</td>
                        <td>0.2222</td>
                        <td class="match">✓ True</td>
                    </tr>
        
                    <tr>
                        <td>image1.JPG</td>
                        <td>image2.JPG</td>
                        <td><strong>0.0767</strong></td>
                        <td>0.11879999935626984</td>
                        <td>0.0091</td>
                        <td>0.0882</td>
                        <td class="no-match">✗ False</td>
                    </tr>
        
                    <tr>
                        <td>image1.JPG</td>
                        <td>image1.png</td>
                        <td><strong>0.0506</strong></td>
                        <td>0.08659999817609787</td>
                        <td>-0.0634</td>
                        <td>0.1166</td>
                        <td class="no-match">✗ False</td>
                    </tr>
        
                    <tr>
                        <td>image1.JPG</td>
                        <td>xavier-dupont-de-ligonnes-cet-etrange-tic-qui-le-trahit.jpeg</td>
                        <td><strong>-0.1037</strong></td>
                        <td>-0.3603000044822693</td>
                        <td>0.049</td>
                        <td>0.0857</td>
                        <td class="no-match">✗ False</td>
                    </tr>
        
                    </tbody>
                </table>
            </div>
            
            <div class="section">
                <h2>Méthodologie et interprétation</h2>
                <p>Cette analyse utilise plusieurs méthodes de comparaison faciale pour déterminer si le suspect correspond à un individu connu:</p>
                <div class="side-by-side">
                    <div>
                        <h3>Métriques utilisées</h3>
                        <ul>
                            <li><strong>Score global</strong>: Combinaison pondérée des autres métriques, sur une échelle de 0 à 1 (1 = correspondance parfaite)</li>
                            <li><strong>Corrélation</strong>: Mesure la similarité structurelle pixel à pixel</li>
                            <li><strong>Similarité d'histogramme</strong>: Compare la distribution des intensités de pixels</li>
                            <li><strong>SSIM</strong>: Indice de similarité structurelle qui évalue la qualité perçue entre deux images</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Niveaux de confiance</h3>
                        <ul>
                            <li><strong>Très élevée</strong>: Score > 0.7 - Forte probabilité de correspondance</li>
                            <li><strong>Élevée</strong>: Score entre 0.5 et 0.7 - Probabilité significative</li>
                            <li><strong>Modérée</strong>: Score entre 0.35 et 0.5 - Correspondance possible</li>
                            <li><strong>Faible</strong>: Score < 0.35 - Correspondance peu probable</li>
                        </ul>
                    </div>
                </div>
                <p><em>Note importante: Ce rapport est généré automatiquement. Les résultats doivent être confirmés par un expert en reconnaissance faciale, car aucune méthode n'est infaillible. Ce rapport ne constitue pas une preuve formelle d'identité.</em></p>
            </div>
            
            <div class="footer">
                <p>Rapport généré le {date_analyse} à {heure_analyse} • Analyse faciale XDDL • Version 1.0</p>
            </div>
        </div>
    </body>
    </html>
    